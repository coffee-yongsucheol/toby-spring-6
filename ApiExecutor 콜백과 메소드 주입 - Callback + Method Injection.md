
ApiExecutor 를 콜백으로 만들것이다. 이것은 메소드 인젝션이라는 것과 함꼐 사용한다.

콜백(Callback) 은 실행되는 것을 목적으로 다른 오브젝트의 메소드에 전달되는 오브젝트이다.

파라미터로 전달되지만 값을 참조하기 위한 것이 아니라 특정 로직을 담은 메소드를 실행시키는 것이 목적이다.


하나의 메소드를 가진 인터페이스 타입(SAM)의 오브젝트 또는 람다 오브젝트를 사용하는데 대신에 하나의 기능만 만들어서 던지는 것을 콜백이라고 한다.


템플릿 / 콜백은 전략 패턴의 특별한 케이스
---

여기에 적용된 디자인 패턴이 있다면 무엇이냐 전략 패턴이다.

템플릿과 콜백은 쌍으로 항상 등장하는데 

전략패턴에는 항상 두가지가 등장하는데 

템플릿은 전략 패턴의 컨텍스트에 해당된다.

콜백은 전략 패턴의 전략이다.

템플릿/ 콜백은 메소드 하나만 가진 전략 인터페이스를 사용하는 전략 패턴이라고 한다.

인터페이스 내부에 execute 처럼 그런 콜백 받는 메소드들은 하나만 있다는 것 같다 

- 메소드 주입 : 의존 오브젝트가 메소드 호출 시점에 파라미터로 전달되는 방식을 말한다

의존 관계 주입의 한 종류이다.

템플릿을 가진 메소드를 호출할때마다 의존 오브젝트를 주입을 해준다 이것을 메소드 호출 주입(method call injection) 이라고 한다.

어떤 분들은 의존 역전이라고 말안하지만 토비님은 맞다고 생각한다.?


---

리팩토링 실습 후기

파라미터 자체에 객체를 던져주니까 만약에 다른 요청으로 변경되면 객체만 갈아끼우면 된다.

즉흥적으로 변경해야하는 요소가 있다면 메소드 파라미터 자리에 그 즉시 Override 메소드를 새로 구현하게 되는 방법도 사용가능하다.

new SimpleApiExecutor() 와 같은 객체를 콜백을 직접 만든다고 한다.


