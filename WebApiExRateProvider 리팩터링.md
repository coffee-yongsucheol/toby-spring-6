
먼저 해당 클래스를 리팩터링을 진행하도록 함

구조를 왜 더 개선하냐 변경하기 좋은 코드, 미래에 더 이해하기 쉬운 코드를 만들기 위해서

어떤 기능을 추가하기위해서 코딩을 했다면 이제 리팩터링을 하는 시간을 가져야지 하고 하는 것도 좋다


리팩터링의 전제 : 기능이 변경되지 않아야 한다. (버그가 나면 안됨)

테스트를 만들어두면 기능이 변경되었는지 확인해볼 수 있다. 새로운 버그가 들어갔는지 기존의 기능이 제대로 동작하는지 확인 가능



현재 외부 api를 사용하기 떄문에 테스트를 할때 사용할 수 없다. 

항상 동일한 결과를 낼 수 없다.
그래서 teststub을 만들어서 비슷하게 
테스트용 클래스를 만들어서 나머지 기능을 테스트하는데 사용했기 떄문에 테스트를 직접한것은 아님

이런 클래스는 어떻게 테스트할까 그냥 직접 실행해보는게 좋지


---

IOException은 우리가 제어할 수 없는 인터넷이 끊어졌다던지 이럴때 발생하기 떄문에 catch를 해도 뭔가 어떻게 해야할지 모름 그래서 밖으로 던지도록 throws 했다.

interface 에서 throws 명시를 제거함 근데 이미 구현한 애들은 어떻하죠 ㅠ?
있다가 생각할일 이라고 하심


RunTimeException 은 서버 앞단까지 올라가서 클라이언트까지 던져줌


---

Buffer 안에 AutoClosable 이라는 녀석이 자동으로 connection 리소스를 close 해주고 간다.

try () { } 이라는 것을 사용해서 BufferReader 부분을 묶어서 넣게 되면 알아서 close를 해준다.


