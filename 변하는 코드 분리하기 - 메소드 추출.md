
확장할려는 성질을 가진 코드

계속 고정되어 있을 려는 코드

이 두 코드들을 적절하게 분리하는 작업을 진행해볼려고 한다.

관심사 분리에서 제일 쉬운건 같은 클래스에 있지만 메소드를 추출해서 분리하는 작업을 한다



WebApiExRateProvider 의 구성

1. URI 를 준비하고 예외처리를 위한 작업을 하는 코드

2. API를 실행하고, 서버로부터 받은 응답을 가져오는 코드

3. JSON 문자열을 파싱하고 필요한 환율정보를 추출하는 코드


2번 같은 경우는 API를 호출하는 기술과 방법이 변경될 수 있다. 그말은 분리해서 따로 관리해야 된다는 얘기 ?

3번은 JSON 구조에 따라서 정보를 추출하는 방식이 변경 될 수 있다. 그래서 이것도 변경될려고 하는 성질을 가진 코드이다.

하지만, 1번은 환율 정보를 가져오는 코드의 기본 틀 이것은 고정될려고 하는 코드이다.


try catch 내에 각각 발생하는 예외들은 변경될일 이 없다. 이런 애들 빼고는 2번 3번은 변경될려는 코드이다.


---

일단 메소드 추출로 분리 해봅시다

