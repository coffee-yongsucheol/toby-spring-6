
굉장히 많은 종류의 디자인 패턴 목록이 나온다.


패턴을 스코프와 같은 관점으로도 분리를 한다

Class 패턴 : 상속
Object 패턴 : 합성

이렇게 있다

클래스 상속에 관련한 디자인 패턴은 4개 정도 밖에 안된다

Object 패턴이라고 하는 쪽을 (합성 Composition) 에 대한 패턴들을 알아야 한다


예제에는 오브젝트 합성을 이용하는 전략 패턴을 사용했다

Web API 통해서 환율 정보를 호출해야 할까?

환율 정보가 필요한 기능 증가하고 있다

여러가지 기능들이 이 서비스에 추가가 된다고 생각을 해보면

요청이 점점 많아질 것이고, 서비스가 대박이 나서 피크타임에는 분당 1000개씩 결제가 일어난다.

이럴때는 굉장히 많은 환율 정보 요청이 일어날 것이고

응답수도 걱정이될것이다 인터넷 망을 타고 갔다가 오는데 시간이 걸릴것이다 안되도 0.5초 - 1초

그러면 고객이 결제정보를 보기위해서 넘어갈때 요청시간이 더해지는 거다

환율을 분당 1000번씩 조회를하는데 매번 가져와야되나? 그만큼 실시간으로 중요한것인가?

무언가 변동하는 주기가 있을텐데 계속 api를 호출하는 것은 굉장히 낭비가 아닌가

환율 정보 캐시(Cache)를 도입하는 것이다

캐시에다가 잠깐동안 저장해두고 그다음 요청이 들어오면 캐시에 빠르게 읽고

다시 외부 정보가 변동되면 가져와서 캐시에 다시 저장하고

캐시에 넣어두고 호출을 하면 좋지 않을까

WebApiExRateProvider에 캐시 기능을 추가하려면?
방법을 생각해보자

- 코드 수정
- (코드를 수정하지 않고) 데코레이터(Decorator) 디자인 패턴을 응용하면 된다
  - 오브젝트에 부가적인 기능/ 책임을 동적으로 부여한다



DI와 디자인 패턴을 이용해서 오브젝트 패턴이 어떤게 적용이 되어 있는가 굉장히 흥미롭다

이러한 디자인 패턴을 잘 적용하는 고민 -> 이게 제일 즐거움아닌가
이걸 못하면 안됨 할줄 알아야됨

기존 코드 수정하지 이런식으로 접근하시면 안된다

그건 스프링 다운 개발이 아니다








